
TREF: IDENTIFIER {DOT TREF}
TYPES: TREF {GENERIC_PARAM_VAL} | BUILTIN_TYPES

USING_ST: USING TREF SEMI

VISIBILITY: PUBLIC | PRIVATE | PROTECTED
BUILTIN_TYPES: BYTE | SBYTE | UINT | INT | ULONG | LONG | VOID | DECIMAL | FLOAT | DOUBLE
GENERIC_CONSTR_TYPES: STRUCT | CLASS | NEW LPAREN RPAREN

GENERIC_PARAM: LESS GENERIC_PARAM_SUB
GENERIC_PARAM_SUB: IDENTIFIER [GREATER | (COMMA GENERIC_PARAM_SUB)]

GENERIC_PARAM_VAL: LESS GENERIC_PARAM_VAL_SUB
GENERIC_PARAM_VAL_SUB: TREF {GENERIC_PARAM_VAL} [GREATER | (COMMA GENERIC_PARAM_VAL_SUB)]

GENERIC_CONSTRAINT_SUB: [TYPES | GENERIC_CONSTR_TYPES] {COMMA GENERIC_CONSTRAINT}
GENERIC_CONSTRAINT: WHERE IDENTIFIER COLON GENERIC_CONSTRAINT_SUB


ATTRIBUTE_DEF: LBRACKET TREF {GENERIC_PARAM_VAL} LPAREN RPAREN RBRACKET

FUNCTION_ARGUMENT_DECL: TYPES IDENTIFIER {COMMA FUNCTION_ARGUMENT_DECL}

INTERFACE_FUNCTION_SIGNATURE: LPAREN RPAREN

INTERFACE_PROPERTY_SIGNATURE: LBRACE {{VISIBILITY} GET SEMI} { {VISIBILITY} SET SEMI} RBRACE

CLASS_STRUCT_DEFS: [SUBDEF | FUNCTION_DEFINITION | FUNCTION_SIGNATURE | FIELD_DEFINITION | PROPERTY_DEFINITION]

INTERFACE_DEFS: {VIRTUAL} {UNSAFE} TYPES IDENTIFIER [INTERFACE_FUNCTION_SIGNATURE | INTERFACE_PROPERTY_SIGNATURE]

ENUM_DEFS: IDENTIFIER {ASSIGN CONST_EXPR} {COMMA}

CLASS_INHERIT: COLON TREF {COMMA TREF}*

SUBDEF: {ATTRIBUTE_DEF*} {PUBLIC} [CLASS_ST | INTERFACE_ST | STRUCT_ST | ENUM_ST]

CLASS_ST: {ABSTRACT} CLASS IDENTIFIER {GENERIC_PARAM} {CLASS_INHERIT} {GENERIC_CONSTRAINT*} LBRACE {CLASS_STRUCT_DEFS*} RBRACE

INTERFACE_ST: INTERFACE IDENTIFIER {GENERIC_PARAM} {CLASS_INHERIT} {GENERIC_CONSTRAINT*} LBRACE {INTERFACE_DEFS*} RBRACE

STRUCT_ST: STRUCT CLASS_IDENT {CLASS_INHERIT} {GENERIC_CONSTRAINT*} LBRACE {CLASS_STRUCT_DEFS*} RBRACE

ENUM_ST: ENUM IDENTIFIER LBRACE {ENUM_DEFS*} RBRACE

NAMESPACE_ST: NAMESPACE TREF LBRACE {SUBDEF*} RBRACE
PROGRAM: USING_ST* NAMESPACE_ST